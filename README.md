# Live Tracker Map
Build with supabase realtime and leafletjs. [[Demo App]](https://realtime-map.vercel.app/)

<p align="center">
<kbd>
<img src="https://media.giphy.com/media/iDU80ngpsSddc0ObGI/giphy.gif" alt="Demo"/>
</kbd>
</p>

## How to use
#### Clone this folder
```bash
git clone https://github.com/supabase/supabase
cd supabase/examples/live-tracker-map
```

Using `sparse-checkout` with Git version 2.25 and above [[Read More]](https://dev.to/kiwicopple/quick-tip-clone-a-single-folder-from-github-44h6)
```bash
# Copy the repo to your machine
git clone --no-checkout https://github.com/supabase/supabase
cd supabase

# Checkout this 
git sparse-checkout init --cone
git sparse-checkout set examples/live-tracker-map
cd examples/live-tracker-map
```

#### Install dependencies
```bash
npm install 
```

#### Start the app
```bash
# Open a terminal and run:
npm run dev
```
Visit http://localhost:4000 and start testing!

## Test with your own Supabase Project
#### Create locations table
Go to [app.supabase.io](https://app.supabase.io/), create a new organisation and project if you haven't had one.  
Run this sql query to create `locations` table.
```sql
CREATE TABLE locations (
  id bigint GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  latitude numeric NOT NULL,
  longitude numeric NOT NULL,
  ref VARCHAR(40)
);
```

#### Setup env vars
Make a .env.local in this folder with the following, you can get these values from your project dashboard at [app.supabase.io](https://app.supabase.io/):
```bash
NEXT_PUBLIC_SUPABASE_ENDPOINT=<your-supabase-url>
NEXT_PUBLIC_SUPABASE_APIKEY=<your-supabase-key>
```
